<!DOCTYPE html>
<html>
<head>
	<meta charset="UTF-8">
	<title>Гра ВИСЕЛИЦЯ</title>
</head>
<body>
<canvas id="canvas" width="200" height="200"></canvas>
<script>
	//$("#canvas").append("<p>Hello, world!</p>");
	var canvas = document.getElementById("canvas");  // знаходження "холста"
	var ctx = canvas.getContext("2d");               // малювання в режимі 2д
	ctx.lineWidth = 4; 								 // ширина ліній
	
	var words = [
		"коронавірус",
		"програмування",
		"Тернопіль",
		"літо",
		"Зеленський",																// масив слів
		"пневмонія",
		"канікули",
		"ЗНО",
		"карантин",
		"Тунберг",
		"повінь",
		"відпочинок"
		];
	var answer = words[Math.floor(Math.random() * words.length)]; 	// рандомний вибір слова
	var word = [];
	var score = answer.length;
	var attempt = score + Math.floor(score / 2);
	var control = 0;
	for (var j = 0; j < score; j++)
		word.push("_");
	alert("Доброго дня! Це гра ВИСЕЛИЦЯ. Ми пропонуємо Вам відгадати слово. Це слово пов'язане із популярними темами сьогодення. Складається з " + score + " букв!");
	
	function drawMan() {
		//голова
		ctx.strokeRect(10, 0, 20, 20);
		
		//тулуб
		ctx.beginPath();
		ctx.moveTo(20, 20);
		ctx.lineTo(20, 60);
		
		//руки
		ctx.moveTo(0, 30);
		ctx.lineTo(20, 40);
		
		ctx.moveTo(20, 40);
		ctx.lineTo(40, 30);
		
		//ноги
		ctx.moveTo(0, 80);
		ctx.lineTo(20, 60);
		
		ctx.lineTo(20, 60);
		ctx.lineTo(40, 80);
		
		ctx.stroke();
	}
	
	while (score != 0) {
		var letter = prompt("Вкажіть букву"); 							// запит на букву
		if (letter == "вийти")
			break;
		else if (letter == null) {
			var confirm = confirm("Ви впевненні, що хочете вийти?");
			if (confirm)
				break;
		}
		else if (letter.length != 1) {
			alert("Введіть лише одну букву!");
			attempt += 1;
		}
			
		for (var i = 0; i < answer.length; i++) {						
			if (letter == word[i]) {
				alert("Ви вже вгадали дану літеру! Попробуйте ввести іншу букву!");
				attempt += 1;
				break;
			}
			else if (letter.toLowerCase() == answer[i]) {
				word[i] = letter;
				score -= 1;
				attempt += 2;
			}
		}
		attempt -= 1;
		if (attempt == 0) { break; }
		alert(word.join(" ").toUpperCase() + " та " + attempt + " спроб!");
		drawMan();
	}
	if (score == 0)
		alert("Вітаємо! Ви відгадали слово " + answer.toUpperCase() + " та успішно втратили свій час");
	else
		alert("Вибач, на жаль, ти не відгадав слово!!!");
</script>
</body>
</html>
